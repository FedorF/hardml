# Финальный проект
В качестве финального проекта необходимо реализовать веб-сервис для оценки экспериментов. <br>
Есть данные о пользователях и их покупках за 8 недель. На последней неделе проводился ряд экспериментов, 
целью которых было увеличение средней выручки с человека.
<br>Задача сервиса — определять, есть эффект или нет.


Ваш сервис будет запущен командой:

`FLASK_APP=user_input/solution.py flask run --port 11000` <br>

где _solution.py_ — загружаемый вами файл решения со всей необходимой логикой.


На загрузку данных, создание моделей, словарей и т.д. будет предоставлено 120 секунд.
В течение этих 120 секунд будут отправляться запросы на ручку _/ping_
(под ручкой подразумевается веб-страница по адресу _127.0.0.1:11000/ping_). 

Привязать метод питона к запросу по веб-адресу можно с помощью декоратора перед основным методом с примерно такой логикой:

`@app.route('/ping')`

Как только сервер ответит json-ом с ключом status и значением ok, начнётся проверка решения.
Обратите внимание: ручка не должна отвечать ok до тех пор, пока не закончатся загрузка и предобработка данных.
Здесь и далее подразумевается, что все данные будут поступать и отдаваться в json-виде.
Получить их можно, к примеру, так: 

`content = json.loads(request.json)`

где request — это объект из библиотеки Flask.

Далее необходимо реализовать ручку для оценки пилота _/check_test_ (принимает POST-запрос).
Должен вернуться json, где _has_effect=1_ в случае, если считаем, что есть положительный эффект, иначе _has_effect=0_. 

Формат запроса для check_test - json-запрос с тремя ключами:
['group_a_one', 'group_a_two', 'group_b'],
значения которых — это список идентификаторов пользователей user_id.

Пример: 

`{'test': {'group_a_one': [1, 2, 3], 'group_a_two': [4, 5, 6], 'group_b': [7, 8, 9]}}`

Формат ответа: json с одним полем has_effect, которое принимает значения 0 и 1.

Решение будет оцениваться на наборе из 1000 A/B тестов. 

`Метрика = max(0, np.ceil((TP - FP) / 50))`

— нормированная разница позитивных внедрённых изменений и неэффективных внедрённых изменений.
Метрика принимает значения от 0 до 10.

Ограничение по памяти — 3Gb. Размер файла с информацией о пользователях — 13Mb, с информацией о продажах — 586Mb.
Сервер должен подниматься за 120 секунд. Время ответа на один запрос */check_tes*t не должно превосходить 1 секунды.

Таким образом, от вас ожидается один файл _solution.py_ с веб-сервисом на Flask и всей необходимой логикой работы.
